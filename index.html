<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Google Play In App Billing Validation by mitchobrian</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Google Play In App Billing Validation</h1>
        <p>Google Version 3 API</p>

        <p class="view"><a href="https://github.com/mitchobrian/google-play-in-app-billing-verification">View the Project on GitHub <small>mitchobrian/google-play-in-app-billing-verification</small></a></p>


        <ul>
          <li><a href="https://github.com/mitchobrian/google-play-in-app-billing-verification/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/mitchobrian/google-play-in-app-billing-verification/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/mitchobrian/google-play-in-app-billing-verification">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h2>
<a id="php-google-play-in-app-billing-verification" class="anchor" href="#php-google-play-in-app-billing-verification" aria-hidden="true"><span class="octicon octicon-link"></span></a>PHP Google Play In App Billing Verification</h2>

<h2>
<a id="for-google-api-version-3" class="anchor" href="#for-google-api-version-3" aria-hidden="true"><span class="octicon octicon-link"></span></a>for Google API Version 3</h2>

<p>A simple PHP library for verifying responses from the Google Play In-App billing service. By verifying responses signed using public-key cryptography you can check whether a user has genuinely purchased your application.</p>

<p>You can use this library to validate in app billing responses before allowing a user to download files from your server or access restricted content. It is PEAR compliant (PSR-0) and can easily be integrated with your server-side applications.</p>

<p>The only requirements for this library are PHP compiled with OpenSSL support, and a PHP version of 4.0.4 or higher. PHP5 works too. </p>

<hr>

<h2>
<a id="test-ui" class="anchor" href="#test-ui" aria-hidden="true"><span class="octicon octicon-link"></span></a>Test UI</h2>

<p>There is simple small test UI for public usage.</p>

<p><a href="http://www.palmomedia.de/google-play-in-app-billing-verification/samples/">http://www.palmomedia.de/google-play-in-app-billing-verification/samples/</a></p>

<hr>

<p>Original repo: </p>

<p><a href="http://code.google.com/p/android-market-license-verification/">http://code.google.com/p/android-market-license-verification/</a></p>

<hr>

<h2>
<a id="important-information" class="anchor" href="#important-information" aria-hidden="true"><span class="octicon octicon-link"></span></a>Important Information</h2>

<p><em>The given response data from the google in app billing API should not be manipulated in any case. The order of the structured JSON is important for the ssl verification with the given signature.</em></p>

<pre><code>{ 
   "orderId":"12999763169054705758.1371079406387615", 
   "packageName":"com.example.app",
   "productId":"exampleSku",
   "purchaseTime":1345678900000,
   "purchaseState":0,
   "developerPayload":"bGoa+V7g/yqDXvKRqq+JTFn4uQZbPiQJo4pf9RzJ",
   "purchaseToken":"rojeslcdyyiapnqcynkjyyjh"
 }
</code></pre>

<hr>

<p>For further information look at:</p>

<p><a href="http://developer.android.com/google/play/billing/billing_integrate.html">http://developer.android.com/google/play/billing/billing_integrate.html</a></p>

<p>Stackoverflow:</p>

<p><a href="http://stackoverflow.com/questions/5645418/android-in-app-purchase-server-signature-verification-using-php-openssl">http://stackoverflow.com/questions/5645418/android-in-app-purchase-server-signature-verification-using-php-openssl</a></p>

<p>Original source code issue:</p>

<p><a href="https://code.google.com/p/android-market-license-verification/issues/detail?id=4&amp;thanks=4&amp;ts=1415802161">https://code.google.com/p/android-market-license-verification/issues/detail?id=4&amp;thanks=4&amp;ts=1415802161</a></p>

<p>And the php openssl documentation:</p>

<p><a href="http://php.net/manual/en/function.openssl-verify.php">http://php.net/manual/en/function.openssl-verify.php</a></p>

<p>Or another github example: </p>

<p><a href="https://gist.github.com/prime31/4750744">https://gist.github.com/prime31/4750744</a></p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/mitchobrian">mitchobrian</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>